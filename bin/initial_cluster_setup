#!/bin/bash

#Some modules to always load when logging in
echo "Adding R, nano and git modules to .bashrc"

declare -a mods=("nano" "R/3.2mkl" "git")

for i in "${mods[@]}"
do
	if grep -q "module load $i" ~/.bashrc; then
	    echo "module $i is already in bashrc"
	else
	    echo "" >> ~/.bashrc
	    echo "module load $i" >> ~/.bashrc
	    echo "added module $i to .bashrc"
	fi
done

echo ""

if grep -q "export CLUSTERS=mpp2" ~/.bashrc; then
	    echo "mpp2 default cluster is already in bashrc"
	else
	    echo "" >> ~/.bashrc
	    echo "export CLUSTERS=mpp2" >> ~/.bashrc
	    echo "added mpp2 as default cluster"
	fi


#Set symbolic links to the batchtools and Batchjobs config files
ln -s ~/.batchtools.conf.r /home/hpc/ua341/di25koz/lrz_configs/config_files/batchjobs/.batchtools.conf.r
ln -s ~/.BatchJobs.R /home/hpc/ua341/di25koz/lrz_configs/config_files/Batchjobs/.Batchjobs.R
